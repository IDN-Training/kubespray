# on all node server
- set date & time
timedatectl set-timezone Asia/Jakarta
date

- set hostname
hostnamectl set-hostname [hostname] #master/worker

- update & upgrade repository
sudo apt clean all && sudo apt update -y && sudo apt upgrade -y

- install sshpass
sudo apt install sshpass -y

- create user for deployment
useradd -m -s /bin/bash spray
passwd spray

- add user to group sudo
usermod -aG sudo spray

- edit visudo
echo "spray ALL=(ALL) NOPASSWD:ALL" > /etc/sudoers.d/spray

# on master node 
- set hosts
10.1.0.9 master
10.1.0.10 worker1
10.1.0.11 worker2

- config ssh
nano /etc/ssh/ssh_config
StrictHostKeyChecking no

- generate ssh key
ssh-keygen -t rsa

- create file list host
nano hosts.txt
10.1.0.9
10.1.0.10
10.1.0.11

- create file password
echo "spray" > pass.txt 

- copy ssh key
for hostname in `cat hosts.txt`; do sshpass -f pass.txt ssh-copy-id spray@${hostname}; done